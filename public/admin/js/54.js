(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{2035:function(e,t,a){"use strict";a.r(t);var n=a(1346),r=a.n(n),o=a(1),c=a.n(o),s=a(132),l=a(1065),i=a(1066),u=a(1062),p=a(1064),h=a(1115),f=a(1116),m=a(1080),d=a(1117),g=a(1284),v=a(1980),y=a.n(v);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,a,n,r,o,c){try{var s=e[o](c),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function P(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function c(e){b(o,n,r,c,s,"next",e)}function s(e){b(o,n,r,c,s,"throw",e)}c(void 0)}))}}function w(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=S(e);if(t){var r=S(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return k(this,a)}}function k(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){var t,a=e.customer,n="/customer/".concat(a.id);return c.a.createElement("tr",{key:a.id.toString()},c.a.createElement("th",{scope:"row"},c.a.createElement(s.Link,{to:n},a.id)),c.a.createElement("td",{scope:"row"},c.a.createElement(s.Link,{to:n},c.a.createElement("img",{width:40,src:a.photo}))),c.a.createElement("td",{scope:"row"},c.a.createElement(s.Link,{to:n},a.title," ",a.firstname," ",a.lastname),c.a.createElement("br",null),a.mobile),c.a.createElement("th",{scope:"row"},c.a.createElement("span",{className:(t=a.balance,t<0?"text-danger":0===t?"text-secondary":"")},a.balance)),c.a.createElement("th",{scope:"row"},a.created_at),c.a.createElement("th",{scope:"row"},a.district))}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(s,e);var t,a,n,o=x(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={customersData:[],activePage:1,perPage:20,totalItemsCount:"",searchText:""},t.handlePageChange=t.handlePageChange.bind(T(t)),t.search=t.search.bind(T(t)),t}return t=s,(a=[{key:"search",value:function(e){var t=e.target;""!==t.value&&" "!==t.value?(this.setState({searchText:t.value}),this.handlePageChange(1,t.value)):(this.setState({searchText:""}),this.handlePageChange(1,""))}},{key:"handlePageChange",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.searchText;this.setState({activePage:e}),""==a?fetch("/api/customers?page=".concat(e,"&per_page=").concat(this.state.perPage),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=P(r.a.mark((function e(a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:n=e.sent,t.setState({customersData:n.data,totalItemsCount:n.total});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):fetch("/api/customers?page=".concat(e,"&per_page=").concat(this.state.perPage,"&search=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=P(r.a.mark((function e(a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:n=e.sent,t.setState({customersData:n.data.data,totalItemsCount:n.data.total});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/customers?per_page=".concat(this.state.perPage),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var t=P(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:n=t.sent,e.setState({customersData:n.data,totalItemsCount:n.total});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log("ERROR!!! "+e.message)})),console.log("ok")}},{key:"render",value:function(){var e=this.state.customersData;return c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(l.a,null,c.a.createElement(i.a,{xl:12},c.a.createElement(u.a,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:" clearfix"},c.a.createElement("div",{className:"float-left"},c.a.createElement(h.a,null,c.a.createElement(f.a,{addonType:"prepend"},c.a.createElement(m.a,null,"Search here")),c.a.createElement(d.a,{value:this.state.searchText,onChange:this.search}))),c.a.createElement("div",{className:"float-right"},c.a.createElement("nav",{"aria-label":"Page navigation"},c.a.createElement(y.a,{activePage:this.state.activePage,itemsCountPerPage:this.state.perPage,totalItemsCount:this.state.totalItemsCount,pageRangeDisplayed:10,onChange:this.handlePageChange,prevPageText:"Previous",firstPageText:"First page",lastPageText:"Last page",nextPageText:"Next",innerClass:"pagination justify-content-end",itemClass:"page-item",disabledClass:"disabled",linkClass:"page-link"}))))),c.a.createElement("div",null,e.length<1?c.a.createElement("center",null,c.a.createElement("h3",null,"No data found")):c.a.createElement(g.a,{responsive:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"ID"),c.a.createElement("th",{scope:"col"},"Photo"),c.a.createElement("th",{scope:"col"},"Name"),c.a.createElement("th",{scope:"col"},"Balance"),c.a.createElement("th",{scope:"col"},"Customer from"),c.a.createElement("th",{scope:"col"},"District"))),c.a.createElement("tbody",null,e.map((function(e,t){return c.a.createElement(j,{key:t,customer:e})})))))))))}}])&&w(t.prototype,a),n&&w(t,n),s}(o.Component);t.default=_}}]);